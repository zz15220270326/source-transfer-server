<%- include('common/head.ejs', { title, stylesheets }) %>
  <div class="container J_DetailPage">
    <% if (item) { %>
      <div class="container-item">
        <h1 class="container-item-title"> 详情信息 </h1>
  
        <table class="detail-info-table" border="0">
          <thead class="detail-info-table-head" align="left">
            <tr class="detail-info-table-head-row">
              <th>属性</th>
              <th>取值</th>
            </tr>
          </thead>
          <tbody class="detail-info-table-body" align="left">
            <tr class="detail-info-table-body-row">
              <td width="80px">ID</td>
              <td width="auto"><%= item.id %></td>
            </tr>
            <tr class="detail-info-table-body-row">
              <td>资源名称</td>
              <td><%= item.originalname %></td>
            </tr>
            <tr class="detail-info-table-body-row">
              <td>资源大小</td>
              <td><%= item.size %></td>
            </tr>
            <tr class="detail-info-table-body-row">
              <td>资源类型</td>
              <td>
                <%=
                  item.sourceType === 'audio'
                  ?
                  '音频'
                  :
                  item.sourceType === 'video'
                  ?
                  '视频'
                  :
                  ''
                %>
              </td>
            </tr>
            <tr class="detail-info-table-body-row">
              <td>封面图片</td>
              <td><%= item.banner %></td>
            </tr>
            <tr class="detail-info-table-body-row">
              <td>创建时间</td>
              <td><%= item.ctime %></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="container-item">
        <h1 class="container-item-title"> 展示内容 </h1>
  
        <div class="play-container">
          <% if (item.sourceType == 'video') { %>
            <video
              id="J_Player"
              class="play-comp"
              height="500px"
              controls
              preload="auto"
              poster="<%= item.banner %>"
              data-setup='{}'
            >
              <source src="<%= item.playUrl %>" type="video/mp4"></source>
              <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider upgrading to a
                web browser that
                <a href="https://videojs.com/html5-video-support/" target="_blank">
                  supports HTML5 video
                </a>
              </p>
            </video>
          <% } %>
          <% if (item.sourceType == 'audio') { %>
            <audio
              class="play-comp"
              controls="controls"
              src="<%= item.playUrl %>"
              crossorigin="crossorigin"
              poster="<%= item.banner %>"
            ></audio>
          <% } %>
        </div>
      </div>
    <% } %>
    <% if (!item) {%>
      <h1>您查找的数据不存在!</h1>

      <div style="margin: 0 20px;">
        <svg
          width="400"
          height="300"
          viewBox="0 0 64 41"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g transform="translate(0 1)" fill="none" fill-rule="evenodd">
            <ellipse fill="#f5f5f5" cx="32" cy="33" rx="32" ry="7"></ellipse>
          <g fill-rule="nonzero" stroke="#d9d9d9">
          <path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path>
          <path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#fafafa"></path>
          </g></g>
        </svg>
      </div>
    <% } %>
  </div>

  <!-- 引入脚本 -->
  <% for (let script of scripts) { %>
    <script type="text/javascript" src="<%= script %>"></script>
  <% } %>
<%- include('common/foot.ejs') %>
